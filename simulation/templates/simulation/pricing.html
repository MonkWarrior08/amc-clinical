{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pricing - Clinical Apex</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --medical-green: #10b981;
            --medical-green-light: #34d399;
            --medical-green-dark: #059669;
            --medical-bg: #f0fdf4;
            --medical-card: #ffffff;
            --medical-text: #064e3b;
            --medical-text-light: #6b7280;
            --medical-border: #d1fae5;
            --medical-shadow: rgba(16, 185, 129, 0.1);
            --medical-accent: #ecfdf5;
        }

        body {
            font-family: 'Inter', sans-serif !important;
            background: linear-gradient(135deg, var(--medical-bg) 0%, #ecfdf5 100%) !important;
            color: var(--medical-text) !important;
            line-height: 1.6 !important;
            min-height: 100vh;
        }

        .page-container { min-height: 100vh; display: flex; flex-direction: column; }

        /* Navigation (match welcome page) */
        .nav-header {
            background: var(--medical-card);
            border-bottom: 1px solid var(--medical-border);
            box-shadow: 0 1px 3px var(--medical-shadow);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            gap: 2rem;
        }

        .nav-menu {
            display: flex;
            align-items: center;
            gap: 2rem;
            list-style: none;
            margin: 0;
            padding: 0;
            justify-self: center;
        }

        .nav-brand-container { justify-self: start; display: flex; align-items: center; gap: 0.75rem; }
        .nav-actions { justify-self: end; display: flex; align-items: center; gap: 1rem; margin-left: 2rem; }
        .nav-brand { font-size: 1.5rem; font-weight: 700; color: var(--medical-text); text-decoration: none; }
        .nav-link { color: var(--medical-text-light); text-decoration: none; font-weight: 500; transition: color 0.2s ease; cursor: pointer; }
        .nav-link:hover { color: var(--medical-green); }
        .nav-btn { padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; text-decoration: none; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem; }
        .nav-btn-secondary { color: var(--medical-green); border: 1px solid var(--medical-green); background: transparent; }
        .nav-btn-secondary:hover { background: var(--medical-green); color: white; }
        .nav-btn-primary { background: linear-gradient(135deg, var(--medical-green) 0%, var(--medical-green-light) 100%); color: white; border: none; }
        .nav-btn-primary:hover { transform: translateY(-1px); box-shadow: 0 4px 12px var(--medical-shadow); }

        /* Main */
        .main-content { flex: 1; max-width: 1200px; margin: 0 auto; padding: 3rem 2rem; width: 100%; padding-top: 140px; }

        .page-header { text-align: center; margin-bottom: 2rem; }
        .page-title { font-size: 2.5rem; font-weight: 700; margin-bottom: 0.75rem; }
        .page-subtitle { font-size: 1.1rem; color: var(--medical-text-light); max-width: 700px; margin: 0.5rem auto 0 auto; }

        /* Hero heading (match welcome) */
        .hero-badge { display: inline-flex; align-items: center; gap: 0.5rem; background: var(--medical-accent); color: var(--medical-green-dark); padding: 0.5rem 1rem; border-radius: 2rem; font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem; border: 1px solid var(--medical-border); }
        .hero-title { font-size: 3.5rem; font-weight: 700; color: var(--medical-text); margin-bottom: 1.5rem; line-height: 1.1; text-align: center; }
        .hero-title .highlight { color: var(--medical-green); }
        .hero-subtitle { font-size: 1.25rem; color: var(--medical-text-light); margin-bottom: 2rem; line-height: 1.6; }

        /* Footer (match welcome) */
        .footer { background: var(--medical-text); color: var(--medical-card); padding: 1.5rem 0; margin-top: 0; }
        .footer-content { max-width: 1200px; margin: 0 auto; padding: 0 2rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; }
        .footer-left { display: flex; align-items: center; gap: 2rem; }
        .footer-brand { font-size: 1.1rem; font-weight: 600; color: var(--medical-card); }
        .footer-copyright { font-size: 0.875rem; color: rgba(255, 255, 255, 0.7); }
        .footer-links { display: flex; gap: 2rem; flex-wrap: wrap; }
        .footer-link { color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.875rem; transition: color 0.2s ease; }
        .footer-link:hover { color: var(--medical-green-light); }

        /* Billing toggle */
        .billing-toggle {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            background: var(--medical-card);
            border: 1px solid var(--medical-border);
            border-radius: 9999px;
            padding: 0.5rem;
            box-shadow: 0 2px 4px var(--medical-shadow);
            margin: 2rem auto;
        }
        .toggle-option {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 600;
            color: var(--medical-text-light);
            cursor: pointer;
        }
        .toggle-option.active { background: var(--medical-accent); color: var(--medical-green-dark); }

        /* Plans */
        .plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
        }

        .plan-card {
            background: var(--medical-card);
            border: 2px solid var(--medical-border);
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 2px 4px var(--medical-shadow);
            transition: all 0.3s ease-out;
            position: relative;
            overflow: hidden;
        }
        .plan-card::before {
            content: '';
            position: absolute; top: 0; left: 0; right: 0; height: 4px;
            background: linear-gradient(90deg, var(--medical-green) 0%, var(--medical-green-light) 100%);
            transform: scaleX(0);
            transition: transform 0.3s ease-out;
        }
        .plan-card:hover { transform: translateY(-6px); box-shadow: 0 12px 30px var(--medical-shadow); border-color: var(--medical-green-light); }
        .plan-card:hover::before { transform: scaleX(1); }

        .plan-badge { display: inline-flex; align-items: center; gap: 0.5rem; font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 9999px; }
        .badge-popular { background: #dbeafe; color: #1e40af; border: 1px solid #bfdbfe; }
        .badge-best { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }

        .plan-title { font-size: 1.25rem; font-weight: 700; margin: 0.75rem 0; }
        .plan-price { font-size: 2.25rem; font-weight: 800; color: var(--medical-green); }
        .plan-desc { color: var(--medical-text-light); margin-top: 0.5rem; }

        .feature-item { display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem; color: var(--medical-text); }
        .feature-icon { color: var(--medical-green); }

        .btn { width: 100%; padding: 0.875rem 1rem; border-radius: 0.75rem; font-weight: 600; display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; text-decoration: none; cursor: pointer; }
        .btn-primary { background: linear-gradient(135deg, var(--medical-green) 0%, var(--medical-green-light) 100%); color: white; border: none; box-shadow: 0 4px 12px var(--medical-shadow); }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px var(--medical-shadow); }
        .btn-secondary { background: var(--medical-card); color: var(--medical-green); border: 2px solid var(--medical-green); }
        .btn-secondary:hover { background: var(--medical-green); color: white; }

        /* Comparison */
        .comparison {
            background: var(--medical-card);
            border: 1px solid var(--medical-border);
            border-radius: 1rem;
            padding: 2rem;
            margin-top: 3rem;
            box-shadow: 0 2px 4px var(--medical-shadow);
        }

        .comparison-grid { display: grid; grid-template-columns: 2fr repeat(3, 1fr); gap: 1rem; align-items: center; }
        .comparison-header { font-weight: 700; color: var(--medical-text); }
        .comparison-cell { padding: 0.75rem 0; border-top: 1px solid var(--medical-border); color: var(--medical-text); }
        .comparison-check { color: var(--medical-green); display: inline-flex; align-items: center; justify-content: center; }

        /* FAQ */
        .faq { margin-top: 3rem; }
        .faq-item { background: var(--medical-card); border: 1px solid var(--medical-border); border-radius: 0.75rem; padding: 1rem 1.25rem; margin-bottom: 1rem; box-shadow: 0 2px 4px var(--medical-shadow); }
        .faq-q { display: flex; align-items: center; gap: 0.75rem; font-weight: 600; }
        .faq-a { color: var(--medical-text-light); margin-top: 0.5rem; }
        .faq-toggle { background: none; border: none; width: 100%; padding: 0; display: flex; align-items: center; justify-content: space-between; cursor: pointer; color: inherit; font: inherit; }
        .faq-toggle .question { display: flex; align-items: center; gap: 0.75rem; font-weight: 600; }
        .faq-chevron { transition: transform 0.2s ease; }

        /* CTA */
        .cta {
            margin-top: 3rem;
            background: linear-gradient(135deg, var(--medical-green) 0%, var(--medical-green-light) 100%);
            color: white;
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 8px 24px var(--medical-shadow);
        }
        .cta-title { font-size: 1.75rem; font-weight: 700; margin-bottom: 0.5rem; }
        .cta-sub { opacity: 0.9; margin-bottom: 1.25rem; }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-container { padding: 1rem; }
            .nav-menu { display: none; }
            .main-content { padding: 2rem 1rem; }
            .page-title { font-size: 2rem; }
            .comparison-grid { grid-template-columns: 1.5fr repeat(3, 1fr); }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Navigation (same as welcome) -->
        <nav class="nav-header">
            <div class="nav-container">
                <div class="nav-brand-container">
                    <a href="{% url 'home' %}" class="nav-brand">Clinical Apex</a>
                </div>
                <ul class="nav-menu">
                    <li><a href="{% url 'pricing' %}" class="nav-link">Pricing</a></li>
                    <li><a href="{% url 'home' %}#about" class="nav-link">About</a></li>
                    <li><a href="{% url 'home' %}#contact" class="nav-link">Contact</a></li>
                </ul>
                <div class="nav-actions">
                    <a href="{% url 'auth' %}?tab=login" class="nav-btn nav-btn-secondary">
                        <i data-lucide="log-in" class="w-4 h-4"></i>
                        Sign In
                    </a>
                    <a href="{% url 'auth' %}?tab=register" class="nav-btn nav-btn-primary">
                        <i data-lucide="user-plus" class="w-4 h-4"></i>
                        Get Started
                    </a>
                </div>
            </div>
        </nav>

        <!-- Main -->
        <main class="main-content">
            <section class="page-header">
                <div class="hero-badge">
                    <i data-lucide="credit-card" class="w-4 h-4"></i>
                    Flexible Plans
                </div>
                <h1 class="hero-title">Simple, transparent <span class="highlight">pricing</span></h1>
                <p class="hero-subtitle">Choose a plan that fits your AMC Clinical Exam preparation. Upgrade, downgrade, or cancel anytime.</p>

                <div class="billing-toggle" role="tablist" aria-label="Billing period">
                    <button id="billing-monthly" class="toggle-option active" aria-selected="true">Monthly</button>
                    <button id="billing-annual" class="toggle-option">Annual <span style="color:#059669; font-weight:700; margin-left: 0.25rem;">Save 20%</span></button>
                </div>
            </section>

            <!-- Plans -->
            <section class="plans-grid">
                <!-- Starter -->
                <div class="plan-card">
                    <span class="plan-badge badge-popular">
                        <i data-lucide="sparkles" class="w-4 h-4"></i> Starter
                    </span>
                    <h3 class="plan-title">Starter</h3>
                    <div class="plan-price"><span id="price-starter">Free</span></div>
                    <p class="plan-desc">Try the platform with limited access. No credit card required.</p>
                    <div style="margin: 1rem 0 1.25rem 0;">
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>2 practice cases</span></div>
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>Text-based simulation</span></div>
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>Basic feedback</span></div>
                    </div>
                    <a href="{% url 'auth' %}?tab=register" class="btn btn-secondary">
                        <i data-lucide="user-plus" class="w-4 h-4"></i>
                        Get Started Free
                    </a>
                </div>

                <!-- Pro -->
                <div class="plan-card" style="border-color:#86efac;">
                    <span class="plan-badge badge-best">
                        <i data-lucide="crown" class="w-4 h-4"></i> Most Popular
                    </span>
                    <h3 class="plan-title">Pro</h3>
                    <div class="plan-price"><span id="price-pro">$19</span><span style="font-size:1rem; color:var(--medical-text-light);">/mo</span></div>
                    <p class="plan-desc">Full access to AI patients, examiner findings, and feedback.</p>
                    <div style="margin: 1rem 0 1.25rem 0;">
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>All categories & cases</span></div>
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>Voice-interactive simulation</span></div>
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>Detailed AI feedback reports</span></div>
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>Session transcripts & notes</span></div>
                    </div>
                    <a href="{% url 'auth' %}?tab=register" class="btn btn-primary">
                        <i data-lucide="rocket" class="w-4 h-4"></i>
                        Start Pro Trial
                    </a>
                </div>

                <!-- Pro Annual -->
                <div class="plan-card">
                    <span class="plan-badge badge-popular">
                        <i data-lucide="calendar" class="w-4 h-4"></i> Best Value
                    </span>
                    <h3 class="plan-title">Pro Annual</h3>
                    <div class="plan-price"><span id="price-annual">$15</span><span style="font-size:1rem; color:var(--medical-text-light);">/mo</span></div>
                    <p class="plan-desc">Billed annually. Same Pro features at a discount.</p>
                    <div style="margin: 1rem 0 1.25rem 0;">
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>Everything in Pro</span></div>
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>Priority support</span></div>
                        <div class="feature-item"><i data-lucide="check" class="w-4 h-4 feature-icon"></i><span>Save 20% vs monthly</span></div>
                    </div>
                    <a href="{% url 'auth' %}?tab=register" class="btn btn-secondary">
                        <i data-lucide="credit-card" class="w-4 h-4"></i>
                        Choose Annual
                    </a>
                </div>
            </section>

            

            <!-- FAQ -->
            <section class="faq">
                <div style="display:flex; align-items:center; gap:0.75rem; margin-bottom:1rem;">
                    <div style="width:2rem; height:2rem; background:var(--medical-green); color:white; border-radius:0.5rem; display:flex; align-items:center; justify-content:center;">
                        <i data-lucide="help-circle" class="w-5 h-5"></i>
                    </div>
                    <h2 style="font-size:1.25rem; font-weight:700;">Frequently asked questions</h2>
                </div>

                <div class="faq-item">
                    <button class="faq-toggle" aria-expanded="false">
                        <span class="question"><i data-lucide="credit-card" class="w-4 h-4" style="color: var(--medical-green);"></i> Do you offer a free trial?</span>
                        <i data-lucide="chevron-down" class="w-4 h-4 faq-chevron"></i>
                    </button>
                    <div class="faq-a" hidden>Yes. The Starter plan lets you try the platform with limited access. Upgrade anytime for full features.</div>
                </div>
                <div class="faq-item">
                    <button class="faq-toggle" aria-expanded="false">
                        <span class="question"><i data-lucide="calendar" class="w-4 h-4" style="color: var(--medical-green);"></i> Can I switch plans?</span>
                        <i data-lucide="chevron-down" class="w-4 h-4 faq-chevron"></i>
                    </button>
                    <div class="faq-a" hidden>Absolutely. You can upgrade or downgrade between monthly and annual plans at any time.</div>
                </div>
                <div class="faq-item">
                    <button class="faq-toggle" aria-expanded="false">
                        <span class="question"><i data-lucide="shield-check" class="w-4 h-4" style="color: var(--medical-green);"></i> Is my data secure?</span>
                        <i data-lucide="chevron-down" class="w-4 h-4 faq-chevron"></i>
                    </button>
                    <div class="faq-a" hidden>We follow best practices for security and privacy. Your session data and notes are protected.</div>
                </div>
            </section>

            <!-- CTA removed as requested -->
        </main>
        
        <!-- Footer (same as welcome) -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-brand">Clinical Apex</div>
                    <div class="footer-copyright">© 2025 Clinical Apex. All rights reserved.</div>
                </div>
                <div class="footer-links">
                    <a href="#" class="footer-link">Privacy Policy</a>
                    <a href="#" class="footer-link">Terms of Service</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Billing toggle (static price text update)
        const monthlyBtn = document.getElementById('billing-monthly');
        const annualBtn = document.getElementById('billing-annual');
        const pricePro = document.getElementById('price-pro');
        const priceAnnual = document.getElementById('price-annual');

        function setMonthly() {
            monthlyBtn.classList.add('active');
            annualBtn.classList.remove('active');
            pricePro.textContent = '$19';
            priceAnnual.textContent = '$15';
        }

        function setAnnual() {
            annualBtn.classList.add('active');
            monthlyBtn.classList.remove('active');
            pricePro.textContent = '$15';
            priceAnnual.textContent = '$12';
        }

        monthlyBtn.addEventListener('click', setMonthly);
        annualBtn.addEventListener('click', setAnnual);

        // FAQ toggles
        document.querySelectorAll('.faq-item').forEach((item) => {
            const toggle = item.querySelector('.faq-toggle');
            const answer = item.querySelector('.faq-a');
            const chevron = item.querySelector('.faq-chevron');
            if (!toggle || !answer) return;
            toggle.addEventListener('click', () => {
                const expanded = toggle.getAttribute('aria-expanded') === 'true';
                toggle.setAttribute('aria-expanded', String(!expanded));
                if (expanded) {
                    answer.hidden = true;
                    if (chevron) chevron.style.transform = 'rotate(0deg)';
                } else {
                    answer.hidden = false;
                    if (chevron) chevron.style.transform = 'rotate(180deg)';
                }
            });
        });
    </script>
</body>
</html>


